<aura:component controller="SetupController">
    <!-- attributes -->
    <aura:attribute name="genTemplates" type="Gen.GenTemplateDisplay[]" access="private"/>
    <aura:attribute name="loading" type="Boolean" default="false" access="private"/>
    <aura:attribute name="data" type="Object" access="private"/>
    <aura:attribute name="columns" type="List" access="private"/>

    <!-- scripts -->
    <ltng:require scripts="{!join(',', $Resource.stringUtils, $Resource.navUtils)}" afterScriptsLoaded="{!c.init}"/>
    <!-- register events -->
    <aura:registerEvent name="toastEvent" type="c:ToastEvent" />

    <!-- component markup -->
    <aura:if isTrue="{!v.loading}">
        <div class="ds-gen-templates-setup-spinner">
            <c:BlueSpinner />
        </div>
    <aura:set attribute="else">
        <aura:if isTrue="{!empty(v.genTemplates)}">
            <!-- No templates -->
            <div class="slds-container_medium slds-container_center">
                <div class="ds-gen-noTemplates-section">
                    <div class="slds-media">
                        <div class="slds-media__figure">
                            <img class="ds-gen-image-section" src="{!$Resource.LearnGen}" />
                        </div>
                        <div class="slds-media__body">
                            <div class="ds-gen-noTemplates-section-header">
                                {!$Label.c.StartFirstTemplate}
                            </div>
                            <div class="slds-m-top_large">
                                <lightning:button variant="brand" label="{!$Label.c.CreateTemplateConfiguration}"
                                    onclick="{!c.createTemplateConfiguration}" />
                            </div>
                            <div class="slds-m-top_large ds-gen-noTemplates-section-body">
                                {!$Label.c.NotFamiliarWithDocumentGeneration}
                            </div>
                            <div class="slds-m-top_xx-small ds-gen-noTemplates-section-body">
                                <lightning:formattedRichText value="{!$Label.c.GenQuickGuide}" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <aura:set attribute="else">
                <!-- Templates present -->
                <div class="slds-p-around_large">
                    <div class="slds-grid slds-grid_align-spread">
                        <div class="slds-col ds-gen-setup-componentHeader">
                            {!$Label.c.TemplateConfigurationLabel}
                        </div>
                        <div class="slds-col slds-no-flex">
                            <lightning:button label="{!$Label.c.CreateTemplateConfiguration}"
                                onclick="{!c.createTemplateConfiguration}" />
                        </div>
                    </div>
                    <div class="slds-m-top_large">
                        <lightning:datatable keyField="Id" data="{!v.data}" columns="{!v.columns}" hideCheckboxColumn="true"/>
                    </div>
                </div>
            </aura:set>
        </aura:if>
    </aura:set>
    </aura:if>
    
</aura:component>
