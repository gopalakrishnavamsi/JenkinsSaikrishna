@IsTest(isParallel = true)
public with sharing class SalesforceAPITest {

	public class SuccessMock implements HttpCalloutMock {
		public HTTPResponse respond(HTTPRequest req) {
			final HttpResponse res = new HttpResponse();
			final String endpoint = req.getEndpoint();

			if (endpoint.endsWith('/sobjects')) { // global describe
				res.setStatusCode(200);
				res.setHeader('Content-Type', 'application/json');
				res.setBody('{"encoding": "UTF-8","maxBatchSize": 200,"sobjects": [{"activateable": false,"createable": true,"custom": false,"customSetting": false,"deletable": true,"deprecatedAndHidden": false,"feedEnabled": true,"hasSubtypes": false,"isSubtype": false,"keyPrefix": "001","label": "Account","labelPlural": "Accounts","layoutable": true,"mergeable": true,"mruEnabled": true,"name": "Account","queryable": true,"replicateable": true,"retrieveable": true,"searchable": true,"triggerable": true,"undeletable": true,"updateable": true,"urls": {"compactLayouts": "/services/data/v40.0/sobjects/Account/describe/compactLayouts","rowTemplate": "/services/data/v40.0/sobjects/Account/{ID}","approvalLayouts": "/services/data/v40.0/sobjects/Account/describe/approvalLayouts","defaultValues": "/services/data/v40.0/sobjects/Account/defaultValues?recordTypeId&fields","listviews": "/services/data/v40.0/sobjects/Account/listviews","describe": "/services/data/v40.0/sobjects/Account/describe","quickActions": "/services/data/v40.0/sobjects/Account/quickActions","layouts": "/services/data/v40.0/sobjects/Account/describe/layouts","sobject": "/services/data/v40.0/sobjects/Account"}},{"activateable": false,"createable": true,"custom": false,"customSetting": false,"deletable": true,"deprecatedAndHidden": false,"feedEnabled": true,"hasSubtypes": false,"isSubtype": false,"keyPrefix": "006","label": "Opportunity","labelPlural": "Opportunities","layoutable": true,"mergeable": false,"mruEnabled": true,"name": "Opportunity","queryable": true,"replicateable": true,"retrieveable": true,"searchable": true,"triggerable": true,"undeletable": true,"updateable": true,"urls": {"compactLayouts": "/services/data/v40.0/sobjects/Opportunity/describe/compactLayouts","rowTemplate": "/services/data/v40.0/sobjects/Opportunity/{ID}","approvalLayouts": "/services/data/v40.0/sobjects/Opportunity/describe/approvalLayouts","defaultValues": "/services/data/v40.0/sobjects/Opportunity/defaultValues?recordTypeId&fields","listviews": "/services/data/v40.0/sobjects/Opportunity/listviews","describe": "/services/data/v40.0/sobjects/Opportunity/describe","quickActions": "/services/data/v40.0/sobjects/Opportunity/quickActions","layouts": "/services/data/v40.0/sobjects/Opportunity/describe/layouts","sobject": "/services/data/v40.0/sobjects/Opportunity"}}]}');
			} else if (endpoint.contains('Account')) { // sobject describe
				res.setStatusCode(200);
				res.setHeader('Content-Type', 'application/json');
				res.setBody('{"name": "Account","fields": [{"length": 18,"name": "Id","type": "id","defaultValue": {"value": null},"updateable": false,"label": "Account ID"},{"length": 100,"name": "Name","updateable": true,"label": "Account Name"}],"updateable": true,"label": "Account","keyPrefix": "001","custom": false,"urls": {"uiEditTemplate": "https://https://my.salesforce.com/{ID}/e","sobject": "/services/data/v20.0/sobjects/Account","uiDetailTemplate": "https://https://yourInstance.salesforce.com/{ID}"},"childRelationships": [{"field": "ParentId","deprecatedAndHidden": false},{"field": "Company"}],"createable": true,"customSetting": false}');
			} else { // opportunity
				res.setStatusCode(200);
				res.setHeader('Content-Type', 'application/json');
				res.setBody('{"actionOverrides": [{"formFactor": "LARGE","isAvailableInTouch": false,"name": "View","pageId": "0M0410000004DFCCA2","url": null}],"activateable": false,"childRelationships": [{"cascadeDelete": true,"childSObject": "AccountPartner","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "AccountPartners","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "ActivityHistory","deprecatedAndHidden": false,"field": "WhatId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "ActivityHistories","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "AttachedContentDocument","deprecatedAndHidden": false,"field": "LinkedEntityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "AttachedContentDocuments","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "Attachment","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Attachments","restrictedDelete": false},{"cascadeDelete": false,"childSObject": "CRCLEntry__c","deprecatedAndHidden": false,"field": "Opportunity__c","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "CRCLEntries__r","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "CollaborationGroupRecord","deprecatedAndHidden": false,"field": "RecordId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "RecordAssociatedGroups","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "CombinedAttachment","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "CombinedAttachments","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "ContentDistribution","deprecatedAndHidden": false,"field": "RelatedRecordId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": null,"restrictedDelete": false},{"cascadeDelete": true,"childSObject": "ContentDocumentLink","deprecatedAndHidden": false,"field": "LinkedEntityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "ContentDocumentLinks","restrictedDelete": false},{"cascadeDelete": false,"childSObject": "ContentVersion","deprecatedAndHidden": false,"field": "FirstPublishLocationId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": null,"restrictedDelete": false},{"cascadeDelete": false,"childSObject": "DocuSign_Status__c","deprecatedAndHidden": false,"field": "Opportunity__c","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "R00N80000002fD9vEAE__r","restrictedDelete": false},{"cascadeDelete": false,"childSObject": "EmailMessage","deprecatedAndHidden": false,"field": "RelatedToId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Emails","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "EntitySubscription","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "FeedSubscriptionsForEntity","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "Event","deprecatedAndHidden": false,"field": "WhatId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Events","restrictedDelete": false},{"cascadeDelete": false,"childSObject": "FeedComment","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": null,"restrictedDelete": false},{"cascadeDelete": true,"childSObject": "FeedItem","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": null,"restrictedDelete": false},{"cascadeDelete": false,"childSObject": "Lead","deprecatedAndHidden": false,"field": "ConvertedOpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": null,"restrictedDelete": false},{"cascadeDelete": true,"childSObject": "Note","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Notes","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "NoteAndAttachment","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "NotesAndAttachments","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpenActivity","deprecatedAndHidden": false,"field": "WhatId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "OpenActivities","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityCompetitor","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "OpportunityCompetitors","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityContactRole","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "OpportunityContactRoles","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityFeed","deprecatedAndHidden": false,"field": "ParentId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Feeds","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityFieldHistory","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Histories","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityHistory","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "OpportunityHistories","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityLineItem","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "OpportunityLineItems","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityPartner","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "OpportunityPartnersFrom","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "OpportunityShare","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Shares","restrictedDelete": false},{"cascadeDelete": false,"childSObject": "OutgoingEmail","deprecatedAndHidden": false,"field": "RelatedToId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": null,"restrictedDelete": false},{"cascadeDelete": true,"childSObject": "Partner","deprecatedAndHidden": false,"field": "OpportunityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Partners","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "ProcessInstance","deprecatedAndHidden": false,"field": "TargetObjectId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "ProcessInstances","restrictedDelete": false},{"cascadeDelete": false,"childSObject": "ProcessInstanceHistory","deprecatedAndHidden": false,"field": "TargetObjectId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "ProcessSteps","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "Task","deprecatedAndHidden": false,"field": "WhatId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "Tasks","restrictedDelete": false},{"cascadeDelete": true,"childSObject": "TopicAssignment","deprecatedAndHidden": false,"field": "EntityId","junctionIdListNames": [],"junctionReferenceTo": [],"relationshipName": "TopicAssignments","restrictedDelete": false}],"compactLayoutable": true,"createable": true,"custom": false,"customSetting": false,"deletable": true,"deprecatedAndHidden": false,"feedEnabled": true,"fields": [{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": true,"inlineHelpText": null,"label": "Opportunity ID","length": 18,"mask": null,"maskType": null,"name": "Id","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "id","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Deleted","length": 0,"mask": null,"maskType": null,"name": "IsDeleted","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": true,"type": "boolean","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Account ID","length": 18,"mask": null,"maskType": null,"name": "AccountId","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": ["Account"],"relationshipName": "Account","relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "reference","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Private","length": 0,"mask": null,"maskType": null,"name": "IsPrivate","nameField": false,"namePointing": false,"nillable": false,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": true,"type": "boolean","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 360,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": true,"inlineHelpText": null,"label": "Name","length": 120,"mask": null,"maskType": null,"name": "Name","nameField": true,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 96000,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": "plaintextarea","filterable": false,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Description","length": 32000,"mask": null,"maskType": null,"name": "Description","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": false,"type": "textarea","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 120,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Stage","length": 40,"mask": null,"maskType": null,"name": "StageName","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [{"active": true,"defaultValue": false,"label": "Prospecting","validFor": null,"value": "Prospecting"},{"active": true,"defaultValue": false,"label": "Qualification","validFor": null,"value": "Qualification"},{"active": true,"defaultValue": false,"label": "Needs Analysis","validFor": null,"value": "Needs Analysis"},{"active": true,"defaultValue": false,"label": "Value Proposition","validFor": null,"value": "Value Proposition"},{"active": true,"defaultValue": false,"label": "Id. Decision Makers","validFor": null,"value": "Id. Decision Makers"},{"active": true,"defaultValue": false,"label": "Perception Analysis","validFor": null,"value": "Perception Analysis"},{"active": true,"defaultValue": false,"label": "Proposal/Price Quote","validFor": null,"value": "Proposal/Price Quote"},{"active": true,"defaultValue": false,"label": "Negotiation/Review","validFor": null,"value": "Negotiation/Review"},{"active": true,"defaultValue": false,"label": "Closed Won","validFor": null,"value": "Closed Won"},{"active": true,"defaultValue": false,"label": "Closed Lost","validFor": null,"value": "Closed Lost"}],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "picklist","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Amount","length": 0,"mask": null,"maskType": null,"name": "Amount","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 18,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 2,"soapType": "xsd:double","sortable": true,"type": "currency","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Probability (%)","length": 0,"mask": null,"maskType": null,"name": "Probability","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 3,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:double","sortable": true,"type": "percent","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Expected Amount","length": 0,"mask": null,"maskType": null,"name": "ExpectedRevenue","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 18,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 2,"soapType": "xsd:double","sortable": true,"type": "currency","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Quantity","length": 0,"mask": null,"maskType": null,"name": "TotalOpportunityQuantity","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 18,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 2,"soapType": "xsd:double","sortable": true,"type": "double","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Close Date","length": 0,"mask": null,"maskType": null,"name": "CloseDate","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:date","sortable": true,"type": "date","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 120,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Opportunity Type","length": 40,"mask": null,"maskType": null,"name": "Type","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [{"active": true,"defaultValue": false,"label": "Existing Customer - Upgrade","validFor": null,"value": "Existing Customer - Upgrade"},{"active": true,"defaultValue": false,"label": "Existing Customer - Replacement","validFor": null,"value": "Existing Customer - Replacement"},{"active": true,"defaultValue": false,"label": "Existing Customer - Downgrade","validFor": null,"value": "Existing Customer - Downgrade"},{"active": true,"defaultValue": false,"label": "New Customer","validFor": null,"value": "New Customer"}],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "picklist","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 765,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Next Step","length": 255,"mask": null,"maskType": null,"name": "NextStep","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 120,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Lead Source","length": 40,"mask": null,"maskType": null,"name": "LeadSource","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [{"active": true,"defaultValue": false,"label": "Web","validFor": null,"value": "Web"},{"active": true,"defaultValue": false,"label": "Phone Inquiry","validFor": null,"value": "Phone Inquiry"},{"active": true,"defaultValue": false,"label": "Partner Referral","validFor": null,"value": "Partner Referral"},{"active": true,"defaultValue": false,"label": "Purchased List","validFor": null,"value": "Purchased List"},{"active": true,"defaultValue": false,"label": "Other","validFor": null,"value": "Other"}],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "picklist","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Closed","length": 0,"mask": null,"maskType": null,"name": "IsClosed","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": true,"type": "boolean","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Won","length": 0,"mask": null,"maskType": null,"name": "IsWon","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": true,"type": "boolean","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 120,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Forecast Category","length": 40,"mask": null,"maskType": null,"name": "ForecastCategory","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [{"active": true,"defaultValue": false,"label": "Omitted","validFor": null,"value": "Omitted"},{"active": true,"defaultValue": false,"label": "Pipeline","validFor": null,"value": "Pipeline"},{"active": true,"defaultValue": false,"label": "Best Case","validFor": null,"value": "BestCase"},{"active": true,"defaultValue": false,"label": "Commit","validFor": null,"value": "Forecast"},{"active": true,"defaultValue": false,"label": "Closed","validFor": null,"value": "Closed"}],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": true,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "picklist","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 120,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Forecast Category","length": 40,"mask": null,"maskType": null,"name": "ForecastCategoryName","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [{"active": true,"defaultValue": false,"label": "Omitted","validFor": null,"value": "Omitted"},{"active": true,"defaultValue": false,"label": "Pipeline","validFor": null,"value": "Pipeline"},{"active": true,"defaultValue": false,"label": "Best Case","validFor": null,"value": "Best Case"},{"active": true,"defaultValue": false,"label": "Commit","validFor": null,"value": "Commit"},{"active": true,"defaultValue": false,"label": "Closed","validFor": null,"value": "Closed"}],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": true,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "picklist","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Campaign ID","length": 18,"mask": null,"maskType": null,"name": "CampaignId","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": ["Campaign"],"relationshipName": "Campaign","relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "reference","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Has Line Item","length": 0,"mask": null,"maskType": null,"name": "HasOpportunityLineItem","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": true,"type": "boolean","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Price Book ID","length": 18,"mask": null,"maskType": null,"name": "Pricebook2Id","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": ["Pricebook2"],"relationshipName": "Pricebook2","relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "reference","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Owner ID","length": 18,"mask": null,"maskType": null,"name": "OwnerId","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": ["User"],"relationshipName": "Owner","relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "reference","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Created Date","length": 0,"mask": null,"maskType": null,"name": "CreatedDate","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:dateTime","sortable": true,"type": "datetime","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Created By ID","length": 18,"mask": null,"maskType": null,"name": "CreatedById","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": ["User"],"relationshipName": "CreatedBy","relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "reference","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Last Modified Date","length": 0,"mask": null,"maskType": null,"name": "LastModifiedDate","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:dateTime","sortable": true,"type": "datetime","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 18,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Last Modified By ID","length": 18,"mask": null,"maskType": null,"name": "LastModifiedById","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": ["User"],"relationshipName": "LastModifiedBy","relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "tns:ID","sortable": true,"type": "reference","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "System Modstamp","length": 0,"mask": null,"maskType": null,"name": "SystemModstamp","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:dateTime","sortable": true,"type": "datetime","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Last Activity","length": 0,"mask": null,"maskType": null,"name": "LastActivityDate","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:date","sortable": true,"type": "date","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": "Fiscal","controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 8,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Fiscal Quarter","length": 0,"mask": null,"maskType": null,"name": "FiscalQuarter","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:int","sortable": true,"type": "int","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": "Fiscal","controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 8,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Fiscal Year","length": 0,"mask": null,"maskType": null,"name": "FiscalYear","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:int","sortable": true,"type": "int","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 6,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Fiscal Period","length": 6,"mask": null,"maskType": null,"name": "Fiscal","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Last Viewed Date","length": 0,"mask": null,"maskType": null,"name": "LastViewedDate","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:dateTime","sortable": true,"type": "datetime","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": false,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Last Referenced Date","length": 0,"mask": null,"maskType": null,"name": "LastReferencedDate","nameField": false,"namePointing": false,"nillable": true,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:dateTime","sortable": true,"type": "datetime","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": false,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Has Open Activity","length": 0,"mask": null,"maskType": null,"name": "HasOpenActivity","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": false,"type": "boolean","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": false,"autoNumber": false,"byteLength": 0,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": false,"custom": false,"defaultValue": false,"defaultValueFormula": null,"defaultedOnCreate": true,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": false,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Has Overdue Task","length": 0,"mask": null,"maskType": null,"name": "HasOverdueTask","nameField": false,"namePointing": false,"nillable": false,"permissionable": false,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:boolean","sortable": false,"type": "boolean","unique": false,"updateable": false,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 765,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": true,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Delivery/Installation Status","length": 255,"mask": null,"maskType": null,"name": "DeliveryInstallationStatus__c","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [{"active": true,"defaultValue": false,"label": "In progress","validFor": null,"value": "In progress"},{"active": true,"defaultValue": false,"label": "Yet to begin","validFor": null,"value": "Yet to begin"},{"active": true,"defaultValue": false,"label": "Completed","validFor": null,"value": "Completed"}],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "picklist","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 36,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": true,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Tracking Number","length": 12,"mask": null,"maskType": null,"name": "TrackingNumber__c","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 24,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": true,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Order Number","length": 8,"mask": null,"maskType": null,"name": "OrderNumber__c","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 300,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": true,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Current Generator(s)","length": 100,"mask": null,"maskType": null,"name": "CurrentGenerators__c","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": true,"writeRequiresMasterRead": false},{"aggregatable": true,"autoNumber": false,"byteLength": 300,"calculated": false,"calculatedFormula": null,"cascadeDelete": false,"caseSensitive": false,"compoundFieldName": null,"controllerName": null,"createable": true,"custom": true,"defaultValue": null,"defaultValueFormula": null,"defaultedOnCreate": false,"dependentPicklist": false,"deprecatedAndHidden": false,"digits": 0,"displayLocationInDecimal": false,"encrypted": false,"externalId": false,"extraTypeInfo": null,"filterable": true,"filteredLookupInfo": null,"groupable": true,"highScaleNumber": false,"htmlFormatted": false,"idLookup": false,"inlineHelpText": null,"label": "Main Competitor(s)","length": 100,"mask": null,"maskType": null,"name": "MainCompetitors__c","nameField": false,"namePointing": false,"nillable": true,"permissionable": true,"picklistValues": [],"precision": 0,"queryByDistance": false,"referenceTargetField": null,"referenceTo": [],"relationshipName": null,"relationshipOrder": null,"restrictedDelete": false,"restrictedPicklist": false,"scale": 0,"soapType": "xsd:string","sortable": true,"type": "string","unique": false,"updateable": true,"writeRequiresMasterRead": false}],"hasSubtypes": false,"isSubtype": false,"keyPrefix": "006","label": "Opportunity","labelPlural": "Opportunities","layoutable": true,"listviewable": null,"lookupLayoutable": null,"mergeable": false,"mruEnabled": true,"name": "Opportunity","namedLayoutInfos": [],"networkScopeFieldName": null,"queryable": true,"recordTypeInfos": [{"available": true,"defaultRecordTypeMapping": true,"master": true,"name": "Master","recordTypeId": "012000000000000AAA","urls": {"layout": "/services/data/v40.0/sobjects/Opportunity/describe/layouts/012000000000000AAA"}}],"replicateable": true,"retrieveable": true,"searchLayoutable": true,"searchable": true,"supportedScopes": [{"label": "All opportunities","name": "everything"},{"label": "My opportunities","name": "mine"},{"label": "My team\'s opportunities","name": "team"}],"triggerable": true,"undeletable": true,"updateable": true,"urls": {"compactLayouts": "/services/data/v40.0/sobjects/Opportunity/describe/compactLayouts","rowTemplate": "/services/data/v40.0/sobjects/Opportunity/{ID}","approvalLayouts": "/services/data/v40.0/sobjects/Opportunity/describe/approvalLayouts","uiDetailTemplate": "https://fred-wade-2-dev-ed.my.salesforce.com/{ID}","uiEditTemplate": "https://fred-wade-2-dev-ed.my.salesforce.com/{ID}/e","defaultValues": "/services/data/v40.0/sobjects/Opportunity/defaultValues?recordTypeId&fields","listviews": "/services/data/v40.0/sobjects/Opportunity/listviews","describe": "/services/data/v40.0/sobjects/Opportunity/describe","uiNewRecord": "https://fred-wade-2-dev-ed.my.salesforce.com/006/e","quickActions": "/services/data/v40.0/sobjects/Opportunity/quickActions","layouts": "/services/data/v40.0/sobjects/Opportunity/describe/layouts","sobject": "/services/data/v40.0/sobjects/Opportunity"}}');
			}

			return res;
		}
	}

	public class FailureMock implements HttpCalloutMock {
		public HttpResponse respond(final HttpRequest request) {
			final HttpResponse response = new HttpResponse();
			response.setStatusCode(400);
			response.setStatus('BAD_REQUEST');
			response.setHeader('Content-Type', 'application/json');
			response.setBody('{"errorCode":"UNIT_TEST_ERROR","message":"Unit test error"}');
			return response;
		}
	}

	@IsTest
	static void test_getMergeObjects_success() {
		Test.setMock(HttpCalloutMock.class, new SuccessMock());
		final SalesforceAPI sfService = SalesforceAPI.getInstance();

		Test.startTest();
		final List<Salesforce.MergeObject> sfObjects = sfService.getMergeObjects();
		Test.stopTest();

		System.assertNotEquals(null, sfObjects);
		System.assert(!sfObjects.isEmpty());
		System.assertEquals(2, sfObjects.size());
		System.assertEquals('Account', sfObjects[0].name);
		System.assertEquals('Opportunity', sfObjects[1].name);
	}

	@IsTest
	static void test_getMergeObjects_failure() {
		Test.setMock(HttpCalloutMock.class, new FailureMock());
		final SalesforceAPI sfService = SalesforceAPI.getInstance();
		APIException ex = null;

		Test.startTest();
		try {
			sfService.getMergeObjects();
		} catch (APIException ex2) {
			ex = ex2;
		}
		Test.stopTest();

		System.assertNotEquals(null, ex);
		System.assertEquals(400, ex.error.code);
	}

	@IsTest
	static void test_getMergeFields_success() {
		Test.setMock(HttpCalloutMock.class, new SuccessMock());
		final SalesforceAPI sfService = SalesforceAPI.getInstance();

		Test.startTest();
		final List<Salesforce.MergeField> accountDesc = sfService.getMergeFields('Account', 1);
		final List<Salesforce.MergeField> oppoDescLevel1 = sfService.getMergeFields('Opportunity', 1);
		final List<Salesforce.MergeField> oppoDescLevel2 = sfService.getMergeFields('Opportunity', 2);
		final List<Salesforce.MergeField> oppoDescLevel3 = sfService.getMergeFields('Opportunity', 3);
		Test.stopTest();

		System.assertNotEquals(null, accountDesc);
		System.assert(!accountDesc.isEmpty());
		System.assertEquals(1, accountDesc.size());
		System.assertEquals('Name', accountDesc[0].name);

		System.assertNotEquals(null, oppoDescLevel1);
		System.assert(!oppoDescLevel1.isEmpty());
		System.assertEquals(68, oppoDescLevel1.size());
		System.assertEquals('IsPrivate', oppoDescLevel1[2].name);

		System.assertNotEquals(null, oppoDescLevel2);
		System.assert(!oppoDescLevel2.isEmpty());
		System.assertEquals(40, oppoDescLevel2.size());
		System.assertEquals('IsPrivate', oppoDescLevel2[2].name);

		System.assertNotEquals(null, oppoDescLevel3);
		System.assert(!oppoDescLevel3.isEmpty());
		System.assertEquals(34, oppoDescLevel3.size());
		System.assertEquals('Name', oppoDescLevel3[2].name);
	}

	@IsTest
	static void test_getMergeFields_failure() {
		Test.setMock(HttpCalloutMock.class, new FailureMock());
		final SalesforceAPI sfService = SalesforceAPI.getInstance();
		APIException ex = null;

		Test.startTest();
		try {
			sfService.getMergeFields('Whatever', 1);
		} catch (APIException ex2) {
			ex = ex2;
		}
		Test.stopTest();

		System.assertNotEquals(null, ex);
		System.assertEquals(400, ex.error.code);
	}

	public class SalesforceApiErrorMock implements HttpCalloutMock {
		public HTTPResponse respond(HTTPRequest req) {
			final HttpResponse res = new HttpResponse();
			final String endpoint = req.getEndpoint();
			if (endpoint.endsWith('null_json')) {
				res.setHeader('Content-Type', 'application/json');
				res.setStatusCode(200);
			} else if (endpoint.endsWith('invalid_json')) {
				res.setHeader('Content-Type', 'application/json');
				res.setBody('{"bad":{}');
				res.setStatusCode(200);
			} else if (endpoint.endsWith('invalid_error_json')) {
				res.setHeader('Content-Type', 'application/json');
				res.setBody('{"message":"Error message"errorCode":"GENERIC_ERROR"}');
				res.setStatusCode(400);
			} else if (endpoint.endsWith('not_json')) {
				res.setHeader('Content-Type', 'text/xml');
				res.setBody('<?xml version="1.0" encoding="UTF-8"?><foo>bar</foo>');
				res.setStatusCode(200);
			} else if (endpoint.endsWith('not_error_json')) {
				res.setHeader('Content-Type', 'text/xml');
				res.setBody('<?xml version="1.0" encoding="UTF-8"?><error><message>foo</message><errorCode>bar</errorCode></error>');
				res.setStatusCode(400);
			} else if (endpoint.endsWith('internal')) {
				res.setHeader('Content-Type', 'text/html');
				res.setBody('<p>FAIL</p>');
				res.setStatusCode(500);
			} else if (endpoint.endsWith('valid_error')) {
				res.setHeader('Content-Type', 'application/json');
				res.setBody('[{"message":"Error message","errorCode":"GENERIC_ERROR"}]');
				res.setStatusCode(400);
			} else if (endpoint.endsWith('generic_exception')) {
				throw new StringException('error');
			} else if (endpoint.endsWith('callout_exception')) {
				throw new CalloutException('callout error');
			} else if (endpoint.endsWith('md_api_exception')) {
				throw new CalloutException('Something bad happened calling SFDC API: ' + Url.getSalesforceBaseUrl().toExternalForm());
			} else {
				res.setStatusCode(500);
			}

			return res;
		}
	}

	@IsTest
	static void test_SFDC_errors() {
		Test.setMock(HttpCalloutMock.class, new SalesforceApiErrorMock());
		final SalesforceAPI sfService = SalesforceAPI.getInstance();

		Test.startTest();
		try {
			sfService.get('null_resp', 2000);
		} catch (ApiException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { Label.Unknown }), ex.getMessage());
		}

		try {
			sfService.get('null_json', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { '' }), ex.getMessage());
		}

		try {
			sfService.get('invalid_json', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { '' }), ex.getMessage());
		}

		try {
			sfService.get('invalid_error_json', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { Label.SalesforceApiErrorUnexpectedResponse }), ex.getMessage());
		}

		try {
			sfService.get('not_error_json', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { Label.SalesforceApiErrorUnexpectedResponse }), ex.getMessage());
		}

		try {
			sfService.get('not_json', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { Label.SalesforceApiErrorUnexpectedResponse }), ex.getMessage());
		}

		try {
			sfService.get('internal', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { Label.Unknown }), ex.getMessage());
		}

		try {
			sfService.get('valid_error', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { '[GENERIC_ERROR] Error message' }), ex.getMessage());
		}

		try {
			sfService.get('generic_exception', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { 'error' }), ex.getMessage());
		}

		try {
			sfService.get('callout_exception', 2000);
		} catch (APIException ex) {
			System.assertEquals(String.format(Label.SalesforceApiError_1, new List<String> { 'callout error' }), ex.getMessage());
		}

		try {
			sfService.get('md_api_exception', 2000);
		} catch (Salesforce.MetadataApiNotSupportedException ex) {
			System.assertEquals(String.format(Label.RemoteSiteMissing_1, new List<String> { Url.getSalesforceBaseUrl().toExternalForm() }), ex.getMessage());
		}
		Test.stopTest();
	}
}