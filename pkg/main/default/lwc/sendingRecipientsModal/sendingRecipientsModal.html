<template>
    <c-modal
            header={Labels.addRecipient}
            show-modal={isOpen}
            onclose={closeModal}>
        <div slot="content">
            <lightning-layout>
                <lightning-layout-item>
                    <div class="ds-recipient-type-selection">
                        <lightning-vertical-navigation onselect={handleTypeChange} selected-item={selectedType}>
                            <lightning-vertical-navigation-item label={Types.EntityLookupSending.label}
                                                                name={Types.EntityLookupSending.value}>
                            </lightning-vertical-navigation-item>
                            <lightning-vertical-navigation-item label={Types.RoleSending.label}
                                                                name={Types.RoleSending.value}>
                            </lightning-vertical-navigation-item>
                            <lightning-vertical-navigation-item label={Types.SigningGroup.label}
                                                                name={Types.SigningGroup.value}>
                            </lightning-vertical-navigation-item>
                        </lightning-vertical-navigation>
                    </div>
                </lightning-layout-item>
                <div class="ds-panel-separator"></div>
                <lightning-layout-item class="slds-p-around_small ds-sending-recipient-details">
                    <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error" role="alert" if:true={showDuplicateRecipientError}>
                        <h2>
                            {Labels.DuplicateRowLabel}
                        </h2>
                    </div>
                    <c-recipient-details
                            source-object={sourceObject}
                            recipient={recipient}
                            type={selectedType}
                            read-only={readOnly}
                            onvalidationchange={handleValidationChange}
                            is-sending>
                    </c-recipient-details>
                </lightning-layout-item>
            </lightning-layout>
        </div>
        <div slot="footer">
            <lightning-button
                    label={Labels.cancel}
                    variant="neutral"
                    onclick={closeModal}>
            </lightning-button>
            <span class="slds-p-left_xx-small"></span>
            <lightning-button
                    label={Labels.selectLabel}
                    disabled={isSaveDisabled}
                    onclick={saveRecipient}
                    variant="brand">
            </lightning-button>
        </div>
    </c-modal>
</template>