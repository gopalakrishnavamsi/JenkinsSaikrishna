<template>
    <div class="ds-envelopeConfig-setup"
         onupdate={updateLocalData}>
        <lightning-spinner if:true={isLoading} alternative-text="Loading" size="medium"
                           variant="brand"></lightning-spinner>
        <c-dec-header
                icon="standard:email_chatter"
                header-name={label.envelopeConfiguration}
                sub-header-name={configurationName}
                modal-title={label.renameEnvelopeConfiguration}
                is-first-step={documentsStep}
                is-final-step={customButtonStep}
                onsaveandclose={handleSaveAndClose}
                onnext={handleNext}
                onback={handleBack}>
        </c-dec-header>
        <div class="slds-m-top_large slds-m-bottom_xx-large ds-envelopeConfig-margin">
            <c-progress-bar
                    current-step={currentStep}
                    steps={steps}
                    onclickprogressstep={handleOnClickProgressStep}>
            </c-progress-bar>
            <c-dec-documents
                    onupdatetemplatedocuments={handleUpdateDocument}
                    if:true={documentsStep}
                    documents={documents}
                    attach-source-files={attachSourceFiles}
                    record-id={recordId}>
            </c-dec-documents>
            <c-dec-recipients if:true={recipientsStep}
                              source-object={sourceObject}
                              recipients={recipients}>
            </c-dec-recipients>
            <c-dec-merge-fields if:true={mergeFieldsStep}></c-dec-merge-fields>
            <template if:true={taggerStep}>
                Step 4
            </template>
            <c-dec-options if:true={optionsStep}></c-dec-options>
            <template if:true={customButtonStep}>
                Step 6
            </template>
        </div>
    </div>
</template>
