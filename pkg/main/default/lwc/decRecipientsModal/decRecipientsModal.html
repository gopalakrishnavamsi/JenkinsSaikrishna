<template>
    <c-modal
            header={Labels.addRecipient}
            show-modal={isOpen}
            onclose={closeModal}
            modal-size="small">
        <div slot="content">
            <lightning-layout>
                <lightning-layout-item>
                    <div class="ds-recipient-type-selection">
                        <lightning-vertical-navigation onselect={handleTypeChange} selected-item={selectedType}>
                            <lightning-vertical-navigation-section label={Labels.decFromSalesforce}>
                                <lightning-vertical-navigation-item label={Types.LookupRecipient.label}
                                                                    name={Types.LookupRecipient.value}>
                                </lightning-vertical-navigation-item>
                                <lightning-vertical-navigation-item label={Types.RelatedRecipient.label}
                                                                    name={Types.RelatedRecipient.value}>
                                </lightning-vertical-navigation-item>
                                <lightning-vertical-navigation-item label={Types.EntityLookup.label}
                                                                    name={Types.EntityLookup.value}>
                                </lightning-vertical-navigation-item>
                            </lightning-vertical-navigation-section>
                            <lightning-vertical-navigation-section label={Labels.otherSourcesText}>
                                <lightning-vertical-navigation-item label={Types.Role.label}
                                                                    name={Types.Role.value}>
                                </lightning-vertical-navigation-item>
                                <lightning-vertical-navigation-item label={Types.SigningGroup.label}
                                                                    name={Types.SigningGroup.value}>
                                </lightning-vertical-navigation-item>
                            </lightning-vertical-navigation-section>
                        </lightning-vertical-navigation>
                    </div>
                </lightning-layout-item>
                <div class="ds-panel-separator"></div>
                <lightning-layout-item class="slds-p-around_small ds-dec-recipient-details">
                    <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error" role="alert"
                         if:true={showDuplicateRecipientError}>
                        <h2>
                            {Labels.DuplicateRowLabel}
                        </h2>
                    </div>
                    <c-recipient-details
                            source-object={sourceObject}
                            recipient={recipient}
                            type={selectedType}
                            onvalidationchange={handleValidationChange}>
                    </c-recipient-details>
                </lightning-layout-item>
            </lightning-layout>
        </div>
        <div slot="footer">
            <lightning-button
                    label={Labels.cancel}
                    variant="neutral"
                    onclick={closeModal}>
            </lightning-button>
            <span class="slds-p-left_xx-small"></span>
            <lightning-button
                    label={Labels.addAndNew}
                    onclick={saveRecipientAndOpenNew}
                    disabled={isSaveDisabled}
                    variant="neutral">
            </lightning-button>
            <span class="slds-p-left_xx-small"></span>
            <lightning-button
                    label={Labels.add}
                    disabled={isSaveDisabled}
                    onclick={saveRecipient}
                    variant="brand">
            </lightning-button>
        </div>
    </c-modal>
</template>