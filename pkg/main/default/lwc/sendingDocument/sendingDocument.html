<template>
    <div class="slds-grid slds-p-around_medium"
         draggable={isDraggable}>
        <div class="slds-col slds-size_1-of-12 slds-p-right_none ds-sending-center-content ds-sending-fit-content-width">
            <div class="slds-grid">
                <div class="slds-col slds-size_1-of-12 ds-sending-fit-content-width">
                    <div class={hideDragAndDropIcon}>
                        <lightning-icon
                                icon-name="utility:drag_and_drop"
                                alternative-text="Drag and Drop"
                                variant="neutral"
                                size="x-small">
                        </lightning-icon>
                    </div>
                </div>
                <div class="slds-col slds-size_1-of-12 slds-p-left_medium ds-sending-fit-content-width">
                    <lightning-input
                            type="checkbox"
                            disabled={isDocumentLocked}
                            checked={document.selected}
                            onchange={toggleDocumentSelection}>
                    </lightning-input>
                </div>
            </div>
        </div>
        <div class="slds-col slds-p-left_none">
            <div class="slds-media slds-media_center">
                <div class="slds-media__figure">
                    <c-file-extension-icon extension={documentExtension} size="medium"></c-file-extension-icon>
                </div>
                <div class="slds-media__content slds-has-flexi-truncate">
                    <p class="slds-truncate" title={document.name}>
                        <span if:false={canPreview}>{document.name}</span>
                        <a if:true={canPreview} href="javascript:void(0)" onclick={previewFile}>{document.name}</a>
                    </p>
                    <p class="slds-text-body__small slds-text-color_weak">{details}</p>
                </div>
            </div>
        </div>
        <div>
            <c-modal
                    header={label.renameModalTitle}
                    show-modal={showRenameModal}
                    onclose={closeRenameModal}>
                <div slot="content" class="slds-p-around_medium">
                    <lightning-input
                            label={label.NameLabel}
                            value={documentNameCopy}
                            max-length="80"
                            onchange={handleNameChange}>
                    </lightning-input>
                </div>
                <div slot="footer">
                    <lightning-button
                            label={label.cancel}
                            onclick={closeRenameModal}>
                    </lightning-button>
                    <lightning-button
                            variant="brand"
                            label={label.renameDocument}
                            disabled={disableModalSave}
                            onclick={saveRenameModal}
                            class="slds-m-left_x-small">
                    </lightning-button>
                </div>
            </c-modal>
        </div>
        <template if:true={canPreview}>
            <div class="slds-col ds-sending-center-content">
                <span>
                    <lightning-button-menu
                            icon-name="utility:down"
                            alternative-text={label.moreActions}
                            title={label.moreActions}
                            variant="neutral"
                            class="slds-float_right"
                            icon-size="small"
                            onselect={handleFileOption}>
                            <template for:each={templateDocumentActions}
                                      for:item="action">
                                    <lightning-menu-item
                                            label={action.label}
                                            value={action.value}
                                            key={action.value}>
                                    </lightning-menu-item>
                            </template>
                            <lightning-menu-item
                                    label={templateDocumentDeleteAction.label}
                                    value={templateDocumentDeleteAction.value}
                                    class="slds-border_top">
                            </lightning-menu-item>
                    </lightning-button-menu>
                </span>
            </div>
        </template>
    </div>
</template>