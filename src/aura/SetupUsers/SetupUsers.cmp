<aura:component>
    <aura:attribute name="nextStep" type="String"/>

    <aura:attribute name="modalLoading" type="Boolean" access="private"/>
    <aura:attribute name="tableLoading" type="Boolean" default="" access="private"/>
    <aura:attribute name="showExitModal" type="Boolean" access="private"/>

    <aura:registerEvent name="exitClicked" type="c:NavigateToSection"/>
    <aura:registerEvent name="finishClicked" type="c:NextSectionEvent"/>

    <aura:handler name="strike_evt_modalPrimaryButtonClicked" event="c:strike_evt"
                  action="{!c.handleConfirmExitClick}"/>

    <!-- Header -->
    <div class="slds-scope strike-wizard">
        <header class="strike-wizard__header slds-is-relative">
            <h2 class="strike-wizard__title slds-text-heading_large slds-align_absolute-center slds-m-bottom_none">{!$Label.c.ManageUsers}</h2>
        </header>
        <!-- Header -->

        <!-- Content -->
        <div class="strike-wizard__body">
            <div class="slds-container_medium slds-container_center slds-p-horizontal_medium">
                <c:ManageUsers/>
            </div>
        </div>

        <!-- Content -->
        <footer class="strike-wizard__footer slds-is-relative">
            <div class="slds-grid slds-grid_pull-padded">
                <div class="slds-col slds-no-flex slds-p-horizontal_small">
                    <lightning:button class="slds-button slds-button_neutral"
                                      label="{!$Label.c.Cancel}"
                                      onclick="{!c.handleConfirmExitClick}"/>
                </div>
                <div class="slds-col slds-p-horizontal_small">
                    <lightning:button aura:id="continueButton"
                                      class="slds-button slds-button_brand"
                                      label="{!if(v.nextStep == 'landing', $Label.c.Finish, $Label.c.ContinueLabel)}"
                                      onclick="{!c.handleContinueClick}"
                                      disabled="{!or(v.modalLoading, v.tableLoading)}"/>
                </div>
            </div>
        </footer>
        <!-- Exit Modal -->
        <c:strike_modal title="{!$Label.c.SectionModalTitle}"
                        primaryButtonLabel="{!$Label.c.Yes}"
                        secondaryButtonLabel="{!$Label.c.No}"
                        showHeader="true"
                        showFooter="true"
                        showModal="{!v.showExitModal}">
            <p class="slds-text-align_center">{!$Label.c.SectionModalWarning}</p>
        </c:strike_modal>
        <!-- /Exit Modal -->
    </div>
</aura:component>
